{% load misc %}
{% load static %}

<div class="dashboard">
    <div class="block-sizer"></div>
{% for block in blocks %}
    {% show_block block %}
{% endfor %}
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/masonry/3.3.2/masonry.pkgd.min.js" integrity="sha512-3PoK3vu4v0ucsggtmLRS2u+uURNzFQA6q9AhgF+FdfzOjM8Nt4p6oKNcbEhdUpw3ud6AO7xaFRpneg5+QBLFXQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script>
    $(document).ready(function () {
        $('.dashboard').masonry({
            itemSelector: '.block',
            columnWidth: '.block-sizer',
            gutter: 15,
            percentPosition: true
        });
    });
</script>