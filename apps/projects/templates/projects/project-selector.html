{%  extends "scheduler/selector.html" %}

{% block selector_content %}
    <ul class="list-group list-group-flush" id="scheduler-selector-list">
        {% for alloc in allocations %}
            <li id="{{alloc.project.code}}"
                class="list-group-item {% if schedule.state != 'draft' %}event-src{% endif %}"
                data-bs-toggle="popover" data-trigger="hover"
                data-content="{{ alloc.project.title }}" data-placement="bottom"
                data-kind='{{alloc.pk}}' data-key='project' data-allocation='{{alloc.shifts}}'
                data-extra-events-url="{% url 'schedule-request-api' pk=alloc.project.pk fac=alloc.beamline.acronym %}"
                data-event='{"project":"{{alloc.project.pk}}", "tags": [{% for tag in alloc.tags %}{{tag.pk}}{%if not forloop.last %}, {% endif %}{% endfor %}] }'
            >
                <div class="d-flex flex-row align-items-center justify-content-start py-1 gap-2">
                    <div class="badge bg-secondary" style="width: 2em;" title="Allocated Shifts">{{alloc.shifts}}</div>
                    <div>{{ alloc.project }}</div>
                    <div id="stats-{{alloc.project.pk}}" class="ms-auto badge rounded-pill bg-success stats"></div>
                </div>
            </li>
        {% empty %}
            <li class="list-group-item text-body-secondary">No Projects</li>
        {% endfor %}
    </ul>
{% endblock %}